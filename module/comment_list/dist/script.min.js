autosize($(".m_comment_list textarea"));var m_comment_list={};m_comment_list.watch=function(){"use strict";$(".m_comment_list").on("click",".actions .delete",function(){m_comment_list.deleteClick($(this))})},m_comment_list.validate=function(){"use strict";var a="",b="",c="";return $.each($(".m_comment_list tbody tr"),function(d,e){b=$(this).find(".commentDate input").val(),c=$(this).find(".commentText textarea").val(),console.log(b),0===b.length&&c.length>0?a+="<li>Comment date is blank but comment text isn't.</li>":b.length>0&&0===c.length?a+="<li>Comment text is blank but comment date isn't.</li>":b.length>0&&!isValidDate(b)&&(a+="<li>Invalid comment date: "+b+".</li>")}),a},m_comment_list.parse=function(){"use strict";var a=[],b="",c="",d="",e=0;return $.each($(".m_comment_list tbody tr"),function(f,g){b=getSeqFromAttrClass($(this).attr("class")).seq,c=$(this).find(".commentDate input").val(),d=$(this).find(".commentText textarea").val(),""!==$.trim(c)&&""!==$.trim(d)&&(a[e]=[],a[e][0]=b,a[e][1]=prepForSQL(c,"date"),a[e][2]=prepForSQL(d),e+=1)}),a},m_comment_list.deleteClick=function(a){"use strict";function b(a){var b="";$(".m_comment_list ."+a).remove(),0===$(".m_comment_list tbody tr").length&&(b='<tr class="noResults"><td colspan="3">No comments found</td></tr>',$(".m_comment_list tbody").html(b))}var c=getSeqFromAttrClass(a.closest("tr").attr("class")).classSeq;BootstrapDialog.confirm({title:'<span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span>&nbsp;&nbsp;Warning',type:BootstrapDialog.TYPE_WARNING,message:"<h2 style=\"text-align:center;\">Are you sure?</h2>\n\nThis will permanently delete the comment when you click the 'Update' button.",closable:!1,callback:function(a){a&&b(c)}})},$(document).ready(function(){m_comment_list.watch()});