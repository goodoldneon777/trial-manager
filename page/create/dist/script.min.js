var p_create={};p_create.watch=function(){"use strict";$(".p_create .c_submitBtn button").click(function(){p_create.submit()})},p_create.submit=function(){"use strict";var a=getURLVariable("type"),b="",c="";"group"!==a&&(a="trial"),"trial"===a?(b+=m_info.validate(),b+=m_heat_data.validate()):"group"===a&&(b+=m_info.validate()),0===b.length?($(".p_create .c_errorBox").html(""),p_create.create(a)):(c='<h3>Please fix these items:</h3><div class="errorList">  <ul>'+b+"</ul></div>",BootstrapDialog.alert({title:'<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>&nbsp;&nbsp;Error',type:BootstrapDialog.TYPE_DANGER,message:c}),b='<div class="alert alert-danger">    <ul>'+b+"</ul></div>",$(".p_create .c_errorBox").html(b))},p_create.create=function(a){"use strict";var b=m_info.parse(),c={},d=[],e=gVar.root+"/page/create/dist/sql_create.php",f="",g="",h="";"trial"===a?(c=m_heat_data.parse(),f="view?trialseq=",g="Trial successfully created.",h="Something went wrong. Trial not created."):"group"===a&&(d=m_child_list.parse(),f="view?groupseq=",g="Group successfully created.",h="Something went wrong. Group not created."),$.ajax({type:"POST",url:e,data:{pageType:a,info:JSON.stringify(b),heatData:JSON.stringify(c),childTrialList:JSON.stringify(d)},dataType:"json",success:function(a){if("success"===a.status){var b=new BootstrapDialog({title:'<span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span>&nbsp;&nbsp;Success',type:BootstrapDialog.TYPE_SUCCESS,message:'<h3 style="text-align:center;">'+g+"</h3>",buttons:[{label:"OK",action:function(){b.close(),document.location.href=f+a.seq}}]});b.open()}else{var b=new BootstrapDialog({title:'<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>&nbsp;&nbsp;Error',type:BootstrapDialog.TYPE_DANGER,message:'<h3 style="text-align:center;">'+h+"</h3>",buttons:[{label:"OK",action:function(a){b.close()}}]});b.open(),console.log(a.errors),console.log(a.debugSQL)}},error:function(a,b,c){var d=new BootstrapDialog({title:'<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>&nbsp;&nbsp;Error',type:BootstrapDialog.TYPE_DANGER,message:"Status: "+b+"\nError: "+c,buttons:[{label:"OK",action:function(a){d.close()}}]});d.open()}})};