$(document).ready(function(){"use strict";function a(){b(),c()}function b(){f={}}function c(){$("#submit").click(function(){d()})}function d(){var a="",b="";a="",a+=m_trialInfo.validate(),a+=m_trialHeatData.validate(),0===a.length?($(".errorHolder").html(""),e()):(b='<h3>Please fix these items:</h3><div class="errorList">  <ul>'+a+"</ul></div>",BootstrapDialog.alert({title:'<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>&nbsp;&nbsp;Error',type:BootstrapDialog.TYPE_DANGER,message:b}),a='<div class="alert alert-danger">\n    <ul>\n'+a+"</ul>\n</div>",$(".errorHolder").html(a))}function e(){var a=m_trialInfo.parse(),b=m_trialHeatData.parse();$.ajax({type:"POST",url:"php/dist/sql-create.php",data:{trialInfo:JSON.stringify(a),trialHeatData:JSON.stringify(b)},dataType:"json",success:function(a){if("success"===a.status){var c=new BootstrapDialog({title:'<span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span>&nbsp;&nbsp;Success',type:BootstrapDialog.TYPE_SUCCESS,message:'<h3 style="text-align:center;">Trial successfully created.</h3>',buttons:[{label:"OK",action:function(){c.close(),document.location.href="view.php?trialseq="+a.trialSeq}}]});c.open(),console.log(b)}else{var c=new BootstrapDialog({title:'<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>&nbsp;&nbsp;Error',type:BootstrapDialog.TYPE_DANGER,message:'<h3 style="text-align:center;">Something went wrong. Trial not created.</h3>',buttons:[{label:"OK",action:function(a){c.close()}}]});c.open(),console.log(a.errors),console.log(a.status)}},error:function(a,b,c){var d=new BootstrapDialog({title:'<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>&nbsp;&nbsp;Error',type:BootstrapDialog.TYPE_DANGER,message:"Status: "+b+"\nError: "+c,buttons:[{label:"OK",action:function(a){d.close()}}]});d.open()}})}var f={};a()});