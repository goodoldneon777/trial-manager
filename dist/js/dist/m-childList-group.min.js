autosize($("#m-commentList-trial textarea"));var m_childList_group={};m_childList_group.start=function(){"use strict";m_childList_group.watch()},m_childList_group.watch=function(){"use strict";$(".m-childList-group .addTrialBtn").click(function(){m_childList_group.addTrialDialog()})},m_childList_group.parse=function(){"use strict";var a=[],b="",c="",d="seq-";return $.each($(".m-childList-group .childTable tbody tr"),function(e,f){b=$(this).attr("class").match(/seq-[\w-]*\b/)[0],c=b.substring(d.length,b.length),a[e]=c}),a},m_childList_group.addTrialDialog=function(){"use strict";var a={};BootstrapDialog.show({title:'<span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>&nbsp;&nbsp;Add Trial',type:BootstrapDialog.TYPE_INFO,message:$("<div></div>").load("php/dist/m-addTrialSearch.php"),buttons:[{label:"Close",action:function(a){a.close()}},{label:"Add Trials",cssClass:"btn-success",action:function(){a=m_addTrialSearch.parse(),m_childList_group.appendTable(a)}}]})},m_childList_group.appendTable=function(a){"use strict";function b(a){var b="";$(".m-childList-group .childTable").length?(b=a.html,$(".m-childList-group .childTable tbody").append(b)):(b=a.html_tableStart+a.html+a.html_tableEnd,$(".m-childList-group .content").html(b))}console.log(a.csv),$.ajax({type:"POST",url:"php/dist/sql-addTrial-appendTable.php",data:{seqCSV:JSON.stringify(a.csv)},dataType:"json",success:function(a){b(a)},error:function(a,b,c){var d=new BootstrapDialog({title:'<span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>&nbsp;&nbsp;Error',type:BootstrapDialog.TYPE_DANGER,message:"Status: "+b+"\nError: "+c,buttons:[{label:"OK",action:function(a){a.close()}}]});d.open()}})},m_childList_group.removeClick=function(a){"use strict";function b(){$("."+a).remove(),0===$(".m-childList-group tbody tr").length&&$(".m-childList-group .content").html('<div style="text-align:center; padding:10px;">No trials found.</div>')}BootstrapDialog.confirm({title:'<span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span>&nbsp;&nbsp;Warning',type:BootstrapDialog.TYPE_WARNING,message:'<h3 style="text-align:center;">This will remove the trial from this group. It will not delete the trial from the database. \n \nAre you sure?</h3>',closable:!1,callback:function(a){a&&b()}})},$(document).ready(function(){m_childList_group.start()});