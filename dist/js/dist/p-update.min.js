$(document).ready(function(){function a(){b(),c()}function b(){f={}}function c(){var a="";$("#submit").click(function(){a="",a+=m_trialInfo.validate(),a+=m_trialHeatData.validate(),a+=m_trialComment_list.validate(),0===a.length?($("#error-box").html(""),d()):(a='<div class="alert alert-danger" style="text-align:left">\n    <ul>\n'+a+"</ul>\n</div>",$("#error-box").html(a))}),$("#delete").click(function(){confirm("Are you sure you want to permanently delete this trial?")&&e()})}function d(){var a=getURLVariable("trialseq"),b=m_trialInfo.parse(),c=m_trialComment_list.parse(),d=m_trialHeatData.parse();$.ajax({type:"POST",url:"php/dist/sql-update.php",data:{trialSeq:JSON.stringify(prepForSQL(a)),trialInfo:JSON.stringify(b),trialComment_list:JSON.stringify(c),trialHeatData:JSON.stringify(d)},dataType:"json",success:function(b){"success"===b.status?(alert("Trial successfully updated."),document.location.href="view.php?trialseq="+a):(alert("Something went wrong. Trial not updated."),console.log(b.errors))},error:function(a,b,c){alert("Status: "+b+"\nError: "+c)}})}function e(){$.ajax({type:"POST",url:"php/dist/sql-delete.php",data:{trialSeq:prepForSQL(getURLVariable("trialseq"))},dataType:"json",success:function(a){"success"===a.status?(alert("Trial has been deleted."),document.location.href="index.php"):(alert("Something went wrong. Trial not deleted."),console.log(a.errors))},error:function(a,b,c){alert("Status: "+b+"\nError: "+c)}})}var f={};a()});